<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tengfei Blog</title>
  <subtitle>Tengfei&#39;s Blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tengfei.science/"/>
  <updated>2016-05-31T14:27:14.717Z</updated>
  <id>http://tengfei.science/</id>
  
  <author>
    <name>Tengfei</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>help</title>
    <link href="http://tengfei.science/2016/05/31/help/"/>
    <id>http://tengfei.science/2016/05/31/help/</id>
    <published>2016-05-31T12:38:03.000Z</published>
    <updated>2016-05-31T14:27:14.717Z</updated>
    
    <content type="html">&lt;h4 id=&quot;相似度计算&quot;&gt;&lt;a href=&quot;#相似度计算&quot; class=&quot;headerlink&quot; title=&quot;相似度计算&quot;&gt;&lt;/a&gt;相似度计算&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;点击更多–采样方法选择–相似度采样&lt;/li&gt;
&lt;li&gt;点击功能–环境因子选择–选择相应的环境因子，选择完毕之后直接点返回即可&lt;/li&gt;
&lt;li&gt;点击功能–添加样点数据–点击相应的kmz文件&lt;/li&gt;
&lt;li&gt;返回至地图主界面，点击某个样点，点击弹出的infowindow，进入样点详情界面，点击计算可替代样点，进入参数设置界面，此页面共有4个参数，第一个是不可采点的经纬度坐标，第二个是计算所有栅格点对不可采点的相似度时的相似度阈值，第三个也是一个相似度阈值，默认值是0.9，表示只要是与不可采点相似度大于0.9的都是候选样点，第四个是距离设置，默认是1000米，表示只选择距离不可采点在1000米之内的候选样点&lt;/li&gt;
&lt;li&gt;输入相应的参数，点击确定按钮，等待片刻，系统提示“可替代样点计算成功，请返回地图界面查看”。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;FCM计算&quot;&gt;&lt;a href=&quot;#FCM计算&quot; class=&quot;headerlink&quot; title=&quot;FCM计算&quot;&gt;&lt;/a&gt;FCM计算&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;点击更多–采样方法选择–FCM采样&lt;/li&gt;
&lt;li&gt;点击功能–环境因子选择–选择相应的环境因子，选择完毕之后直接点返回即可&lt;/li&gt;
&lt;li&gt;点击功能–添加样点数据–点击相应的kmz文件&lt;/li&gt;
&lt;li&gt;点击功能–FCM聚类，设置相关参数即可进行FCM聚类计算，不过不推荐这样做，主要是计算太慢，且服务器程序在执行FCM聚类计算时内存占用会特别高&lt;/li&gt;
&lt;li&gt;进行FCM聚类计算之后便生成了模糊隶属度图，点击功能–模糊隶属度图层选择–选择相应的模糊隶属度图层即可，这里我们已经事先准备好了一个隶属度图像class8.tif，直接选择即可&lt;/li&gt;
&lt;li&gt;返回至地图主界面，点击某个样点，点击弹出的infowindow，进入样点详情界面，点击计算可替代样点，进入参数设置界面，此页面共有3个参数，第一个是不可采点的经纬度坐标，第二个是隶属度差值阈值，默认值为0.02，表示若某栅格点的隶属度值与不可采点的隶属度值之差小于0.02，则此栅格点便作为候选样点，第四个是距离设置，默认是1000米，表示只选择距离不可采点在1000米之内的候选样点&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;相似度计算&quot;&gt;&lt;a href=&quot;#相似度计算&quot; class=&quot;headerlink&quot; title=&quot;相似度计算&quot;&gt;&lt;/a&gt;相似度计算&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;点击更多–采样方法选择–相似度采样&lt;/li&gt;
&lt;li&gt;点击功能–环境因子选择–选择相应的环境因子，选择完
    
    </summary>
    
      <category term="生活" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="其他" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="help" scheme="http://tengfei.science/tags/help/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客配置注意事项</title>
    <link href="http://tengfei.science/2016/05/22/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <id>http://tengfei.science/2016/05/22/hexo博客配置注意事项/</id>
    <published>2016-05-22T13:25:04.000Z</published>
    <updated>2016-05-22T13:56:03.568Z</updated>
    
    <content type="html">&lt;h4 id=&quot;让某些文件不被hexo渲染&quot;&gt;&lt;a href=&quot;#让某些文件不被hexo渲染&quot; class=&quot;headerlink&quot; title=&quot;让某些文件不被hexo渲染&quot;&gt;&lt;/a&gt;让某些文件不被hexo渲染&lt;/h4&gt;&lt;p&gt;当我们在为我们的博客提交到百度或者谷歌搜索时，第一步便是在百度站长平台或者google search console中添加并验证我们的网站，我们选择下载html文件的方式进行验证。即下载baidu_verify_hu7LcmdtsJ.html和googlebab4ebb8b7887c15.html这两个文件，并将其放置于source目录下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://i.imgur.com/XBG4USM.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;接着在hexo博客的配置文件_config.yml中找到skip_render添加如下代码：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;skip_render:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ss-s&amp;apos;googlebab4ebb8b7887c15.html&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ss-s&amp;apos;baidu_verify_hu7LcmdtsJ.html&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;需要注意的是上面的s表示一个空格，两个s表示两个空格，为了强调，将空格用s来表示，添加的时候将s变为空格即可。更多关于skip_render的用法参考：&lt;a href=&quot;http://luopq.com/2016/01/17/hexo-tips/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo技巧收集 - 不定期更新&lt;/a&gt;。&lt;/p&gt;
&lt;h4 id=&quot;将购买的域名与博客绑定&quot;&gt;&lt;a href=&quot;#将购买的域名与博客绑定&quot; class=&quot;headerlink&quot; title=&quot;将购买的域名与博客绑定&quot;&gt;&lt;/a&gt;将购买的域名与博客绑定&lt;/h4&gt;&lt;p&gt;在hexo\source目录下新建一个名为CNAME的文件，注意，这个文件没有后缀。用记事本编辑，在文件内键入你刚刚购买的域名即可，如www.tengfei.science。更多内容参考：&lt;a href=&quot;http://www.gravel.club/2016/04/22/parked_domains/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;将发布在github上的博客与域名进行绑定&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;让某些文件不被hexo渲染&quot;&gt;&lt;a href=&quot;#让某些文件不被hexo渲染&quot; class=&quot;headerlink&quot; title=&quot;让某些文件不被hexo渲染&quot;&gt;&lt;/a&gt;让某些文件不被hexo渲染&lt;/h4&gt;&lt;p&gt;当我们在为我们的博客提交到百度或者谷歌搜索时，第一步
    
    </summary>
    
      <category term="生活" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="其他" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="hexo博客配置" scheme="http://tengfei.science/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Android导出Kml</title>
    <link href="http://tengfei.science/2016/05/21/Android%E5%AF%BC%E5%87%BAKml/"/>
    <id>http://tengfei.science/2016/05/21/Android导出Kml/</id>
    <published>2016-05-21T03:04:25.000Z</published>
    <updated>2016-05-21T03:20:55.089Z</updated>
    
    <content type="html">&lt;p&gt;转载请注明出处:&lt;a href=&quot;http://www.tengfei.science/2016/05/21/Android%E5%AF%BC%E5%87%BAKml/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tengfei.science/2016/05/21/Android%E5%AF%BC%E5%87%BAKml/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;请先阅读：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/hnyzwtf/article/details/50202405&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java(Android)解析KML文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/hnyzwtf/article/details/51453693&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java生成kml文件&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;直接上代码：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;162&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;163&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;164&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;165&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;166&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;167&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;168&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;169&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;170&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;171&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;172&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;173&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;174&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;175&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;176&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;177&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;178&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;179&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;180&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;181&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;182&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;183&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;184&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;185&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;186&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;187&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;188&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;189&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;190&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;191&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;192&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;193&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;194&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;196&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;197&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;198&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;199&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;201&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;202&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;203&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;204&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;205&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;206&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;207&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;208&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;209&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;211&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;212&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;213&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;214&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;215&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;216&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;217&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;218&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;219&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;220&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;221&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;222&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;223&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;224&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;225&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;226&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;227&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;228&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;229&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;230&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;package com.soil.soilsampling.ui.parsekml;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import android.content.Context;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import android.content.res.Resources;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import android.graphics.Bitmap;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import android.graphics.BitmapFactory;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import android.util.Log;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import com.soil.soilsampling.R;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import com.soil.soilsampling.base.BaseApplication;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import com.soil.soilsampling.model.CoordinateAlterSample;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import com.soil.soilsampling.support.utils.ToastUtil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import org.dom4j.Document;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import org.dom4j.DocumentHelper;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import org.dom4j.Element;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import org.dom4j.io.OutputFormat;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import org.dom4j.io.XMLWriter;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.BufferedInputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.BufferedOutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.ByteArrayInputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.ByteArrayOutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.File;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.FileInputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.FileOutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.IOException;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.InputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.io.OutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.util.List;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.util.zip.ZipEntry;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import java.util.zip.ZipOutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Created by GIS on 2016/5/19 0019.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class WriteKml &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private String TAG = &amp;quot;WriteKml&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * 传入两个参数，一是kml的名称，第二个是坐标点的list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void createKml(String kmlName, List&amp;lt;CoordinateAlterSample&amp;gt; alterSamples) throws Exception&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element root = DocumentHelper.createElement(&amp;quot;kml&amp;quot;);  //根节点是kml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Document document = DocumentHelper.createDocument(root);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //给根节点kml添加属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        root.addAttribute(&amp;quot;xmlns&amp;quot;, &amp;quot;http://www.opengis.net/kml/2.2&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .addAttribute(&amp;quot;xmlns:gx&amp;quot;, &amp;quot;http://www.google.com/kml/ext/2.2&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .addAttribute(&amp;quot;xmlns:xsi&amp;quot;, &amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                .addAttribute(&amp;quot;xsi:schemaLocation&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;quot;http://www.opengis.net/kml/2.2 http://schemas.opengis.net/kml/2.2.0/ogckml22.xsd http://www.google.com/kml/ext/2.2 http://code.google.com/apis/kml/schema/kml22gx.xsd&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //给根节点kml添加子节点  Document&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element documentElement = root.addElement(&amp;quot;Document&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        documentElement.addElement(&amp;quot;name&amp;quot;).addText(kmlName); //添加name节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        documentElement.addElement(&amp;quot;Snippet&amp;quot;).addText(&amp;quot;&amp;quot;); //Snippet节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element folderElement = documentElement.addElement(&amp;quot;Folder&amp;quot;);//Folder节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        folderElement.addAttribute(&amp;quot;id&amp;quot;, &amp;quot;FeatureLayer0&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //给Folder节点添加子节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        folderElement.addElement(&amp;quot;name&amp;quot;).addText(kmlName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        folderElement.addElement(&amp;quot;Snippet&amp;quot;).addText(&amp;quot;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //循环添加每一个Placemark节点，有几个坐标点就有几个Placemark节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; alterSamples.size(); i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Element placeMarkElement = folderElement.addElement(&amp;quot;Placemark&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            placeMarkElement.addAttribute(&amp;quot;id&amp;quot;, alterSamples.get(i).getName());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            placeMarkElement.addElement(&amp;quot;name&amp;quot;).addText(alterSamples.get(i).getName());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            placeMarkElement.addElement(&amp;quot;Snippet&amp;quot;).addText(&amp;quot;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            placeMarkElement.addElement(&amp;quot;description&amp;quot;).addCDATA(getCdataContent(alterSamples.get(i).getName(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    alterSamples.get(i).getName(), String.valueOf(alterSamples.get(i).getX()), String.valueOf(alterSamples.get(i).getY()),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    alterSamples.get(i).getCostValue()));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            placeMarkElement.addElement(&amp;quot;styleUrl&amp;quot;).addText(&amp;quot;#IconStyle00&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Element pointElement = placeMarkElement.addElement(&amp;quot;Point&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            pointElement.addElement(&amp;quot;altitudeMode&amp;quot;).addText(&amp;quot;clampToGround&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            //添加每一个坐标点的经纬度坐标&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            //pointElement.addElement(&amp;quot;coordinates&amp;quot;).addText(&amp;quot;119.39986000,31.13396700000143,0&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            pointElement.addElement(&amp;quot;coordinates&amp;quot;).addText(String.valueOf(alterSamples.get(i).getX()) + &amp;quot;,&amp;quot; +&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    String.valueOf(alterSamples.get(i).getY()) + &amp;quot;,&amp;quot; + &amp;quot;0&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element styleElement = documentElement.addElement(&amp;quot;Style&amp;quot;);//Style节点&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        styleElement.addAttribute(&amp;quot;id&amp;quot;, &amp;quot;IconStyle00&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // IconStyle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element iconStyleElement = styleElement.addElement(&amp;quot;IconStyle&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element iconElement = iconStyleElement.addElement(&amp;quot;Icon&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        iconElement.addElement(&amp;quot;href&amp;quot;).addText(&amp;quot;layer0_symbol.png&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        iconStyleElement.addElement(&amp;quot;scale&amp;quot;).addText(&amp;quot;0.250000&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // LabelStyle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element labelStyleElement = styleElement.addElement(&amp;quot;LabelStyle&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        labelStyleElement.addElement(&amp;quot;color&amp;quot;).addText(&amp;quot;00000000&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        labelStyleElement.addElement(&amp;quot;scale&amp;quot;).addText(&amp;quot;0.000000&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // PolyStyle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Element polyStyleElement = styleElement.addElement(&amp;quot;PolyStyle&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        polyStyleElement.addElement(&amp;quot;color&amp;quot;).addText(&amp;quot;ff000000&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        polyStyleElement.addElement(&amp;quot;outline&amp;quot;).addText(&amp;quot;0&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //将生成的kml写出本地&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        OutputFormat format = OutputFormat.createPrettyPrint();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        format.setEncoding(&amp;quot;utf-8&amp;quot;);//设置编码格式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //将doc.kml写入到/data/data/&amp;lt;package name&amp;gt;/files目录&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        FileOutputStream outputStream = BaseApplication.getContext().openFileOutput(&amp;quot;doc.kml&amp;quot;, Context.MODE_PRIVATE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        XMLWriter xmlWriter = new XMLWriter(outputStream,format);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        xmlWriter.write(document);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        xmlWriter.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //开始对文件进行压缩，一个kml文件其实是一个压缩文件，里面包含一个kml文件和一个png图标&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        String docKmlPath = BaseApplication.getContext().getFilesDir().getAbsolutePath() + &amp;quot;//doc.kml&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zipWriteKml(docKmlPath, kmlName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ToastUtil.show(BaseApplication.getContext(), &amp;quot;导出kml成功&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * 将生成的kml文件和drawable下的某个png图标进行压缩，生成最终的kml文件，并保存在/data/data/&amp;lt;package name&amp;gt;/files目录&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void zipWriteKml(String docKmlPath, String kmlName) throws IOException&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 最终生成的kml文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        FileOutputStream fileOutput = BaseApplication.getContext().openFileOutput(kmlName + &amp;quot;.kmz&amp;quot;, Context.MODE_PRIVATE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        OutputStream os = new BufferedOutputStream( fileOutput);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ZipOutputStream zos = new ZipOutputStream(os);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        byte[] buf = new byte[8192];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int len;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //压缩data/data/package name/files目录下的doc.kml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        File file = new File(docKmlPath);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if ( !file.isFile() )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Log.d(TAG, &amp;quot;doc.kml is nonexist&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ZipEntry ze = new ZipEntry( file.getName() );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.putNextEntry( ze );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        BufferedInputStream bis = new BufferedInputStream( new FileInputStream( file ) );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        while ( ( len = bis.read( buf ) ) &amp;gt; 0 ) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            zos.write( buf, 0, len );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.closeEntry();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 压缩drawable目录下的图片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Resources r = BaseApplication.getContext().getResources();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Bitmap bitmap = BitmapFactory.decodeResource(r, R.drawable.layer0_symbol);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ByteArrayOutputStream baos = new ByteArrayOutputStream();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        bitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        InputStream input = new ByteArrayInputStream(baos.toByteArray());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int temp = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ZipEntry entry2 = new ZipEntry(&amp;quot;layer0_symbol.png&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.putNextEntry(entry2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        while ((temp = input.read()) != -1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            zos.write(temp);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        input.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.closeEntry();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       /* for (int i=0;i &amp;lt; files.length;i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            File file = new File(files[i]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if ( !file.isFile() )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                continue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ZipEntry ze = new ZipEntry( file.getName() );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            zos.putNextEntry( ze );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            BufferedInputStream bis = new BufferedInputStream( new FileInputStream( file ) );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            while ( ( len = bis.read( buf ) ) &amp;gt; 0 ) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                zos.write( buf, 0, len );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Log.d(TAG, &amp;quot;we are zipping &amp;quot;+ file.getName());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            zos.closeEntry();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.closeEntry();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        zos.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * 生成kml的html备注,在description节点下&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    * */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public String getCdataContent(String id, String placeMarkName, String x, String y, String costValue)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        StringBuffer buffer = new StringBuffer();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;html xmlns:fo=\&amp;quot;http://www.w3.org/1999/XSL/Format\&amp;quot; xmlns:msxsl=\&amp;quot;urn:schemas-microsoft-com:xslt\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;head&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;META http-equiv=\&amp;quot;Content-Type\&amp;quot; content=\&amp;quot;text/html\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;meta http-equiv=\&amp;quot;content-type\&amp;quot; content=\&amp;quot;text/html; charset=UTF-8\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/head&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;body style=\&amp;quot;margin:0px 0px 0px 0px;overflow:auto;background:#FFFFFF;\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;table style=\&amp;quot;font-family:Arial,Verdana,Times;font-size:12px;text-align:left;width:100%;border-collapse:collapse;padding:3px 3px 3px 3px\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr style=\&amp;quot;text-align:center;font-weight:bold;background:#9CBCE2\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(placeMarkName).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;table style=\&amp;quot;font-family:Arial,Verdana,Times;font-size:12px;text-align:left;width:100%;border-spacing:0px; padding:3px 3px 3px 3px\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr bgcolor=\&amp;quot;#D4E4F3\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;ID&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(id).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;name&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(placeMarkName).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr bgcolor=\&amp;quot;#D4E4F3\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;X&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(x).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;Y&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(y).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;tr bgcolor=\&amp;quot;#D4E4F3\&amp;quot;&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;CostValue&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;td&amp;gt;&amp;quot;).append(costValue).append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/table&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/td&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/table&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/body&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer.append(&amp;quot;&amp;lt;/html&amp;gt;&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        String cDataContent = buffer.toString();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return cDataContent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;CoordinateAlterSample类如下&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 服务器返回的样点，每一个样点包括一个name,x,y,costValue&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class CoordinateAlterSample implements Serializable &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private double x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private double y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private String name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private String costValue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public String getCostValue() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		return costValue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public void setCostValue(String costValue) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		this.costValue = costValue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public double getX() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		return x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public void setX(double x) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		this.x = x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public double getY() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		return y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public void setY(double y) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		this.y = y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public String getName() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		return name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public void setName(String name) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		this.name = name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;转载请注明出处:&lt;a href=&quot;http://www.tengfei.science/2016/05/21/Android%E5%AF%BC%E5%87%BAKml/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.tengfei.s
    
    </summary>
    
      <category term="编程" scheme="http://tengfei.science/categories/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="Android" scheme="http://tengfei.science/categories/%E7%BC%96%E7%A8%8B/Android/"/>
    
    
      <category term="Android" scheme="http://tengfei.science/tags/Android/"/>
    
      <category term="kml" scheme="http://tengfei.science/tags/kml/"/>
    
  </entry>
  
  <entry>
    <title>在python中调用grass中的模块</title>
    <link href="http://tengfei.science/2016/05/14/%E5%9C%A8python%E4%B8%AD%E8%B0%83%E7%94%A8grass%E7%9A%84%E6%A8%A1%E5%9D%97/"/>
    <id>http://tengfei.science/2016/05/14/在python中调用grass的模块/</id>
    <published>2016-05-14T14:17:03.000Z</published>
    <updated>2016-05-15T01:58:25.648Z</updated>
    
    <content type="html">&lt;p&gt;在安装好grass之后，只需设置如下的环境变量，便可在python中调用grass中的模块功能：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GISBASE= D:\Program Files (x86)\GRASS GIS 7.0.svn
PATH=%GISBASE%\etc;%GISBASE%\etc\python;%GISBASE%\lib;%GISBASE%\bin;%GISBASE%\extrabin;C:\Python27\ArcGIS10.1;%GISBASE%\scripts;%GISBASE%\msys\bin;%GISBASE%\Python27\lib
LD_LIBRARY_PATH= %GISBASE%\lib
PYTHONPATH= %GISBASE%\etc\python
PYTHONLIB= C:\Python27\ArcGIS10.1
GRASS_SH= %GISBASE%\msys\bin\sh.exe
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;示例Python程序如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import sys
import os
import grass.script as grass

kk = r&amp;quot;E:\Exercise\test\grasstest\dem2.tif&amp;quot;
r = grass.run_command(&amp;apos;r.in.gdal&amp;apos;,
                  flags=&amp;apos;o&amp;apos;,
                  input=kk,
                  output=&amp;quot;mm&amp;quot;,
                  overwrite=True)
print r
r = grass.run_command(&amp;quot;g.region&amp;quot;, rast=&amp;quot;mm&amp;quot;)
print r
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但是我们需要注意的几个问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;目前grass官网上能下载的最新版本的wingrass（Stand-alone Installer） 版本为7.0.4，&lt;a href=&quot;https://grass.osgeo.org/download/software/ms-windows/&quot; title=&quot;https://grass.osgeo.org/download/software/ms-windows/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://grass.osgeo.org/download/software/ms-windows/&lt;/a&gt;，但是安装之后安装目录下没有文件夹msys，因此环境变量中凡是与msys有关的无法进行设置。本文的解决办法是下载一个旧版本的grass即可，我用的是WinGRASS-7.0.svn版。&lt;/li&gt;
&lt;li&gt;有时候在安装旧版本的grass（指的是7.0.3之前的版本）后，启动时会报错。如下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://i.imgur.com/4aP9Vv3.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;第一幅图是启动grass时报错 unable to get current geographic extent. Force quiting wxGUI.，然后根据提示在grass的cmd中运行命令g.region，又报错：g.region.exe无法找到入口，无法定位程序输入点sqlite3_prepare_v2于动态链接库sqlite3.dll上。此时的解决办法是&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The issue is caused by different sqlite3.dll files accessible “on path” to all application. In case of GRASS GIS, some incompatible sqlite3 DLL is picked up by the system rather than using the correct one shipped with GRASS GIS.&lt;/p&gt;
&lt;p&gt;Solution: search for all sqlite3.dll files on your computer and remove rename them one by one while trying at the same time to start GRASS GIS successfully. Note that removing some of the other sqlite3.dll files may break the applications which use them (say, while this is possible it has never actually been reported by any user). So, it is a good idea to just rename the DLL file in case you discover that another application needs that particular sqlite3 DLL and you have to reverse the process.&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在安装好grass之后，只需设置如下的环境变量，便可在python中调用grass中的模块功能：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GISBASE= D:\Program Files (x86)\GRASS GIS 7.0.svn
PATH=%GISBASE%\etc;%GIS
    
    </summary>
    
      <category term="GIS" scheme="http://tengfei.science/categories/GIS/"/>
    
      <category term="GRASS" scheme="http://tengfei.science/categories/GIS/GRASS/"/>
    
    
      <category term="GRASS" scheme="http://tengfei.science/tags/GRASS/"/>
    
      <category term="python" scheme="http://tengfei.science/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>欢迎</title>
    <link href="http://tengfei.science/2016/05/06/%E6%AC%A2%E8%BF%8E/"/>
    <id>http://tengfei.science/2016/05/06/欢迎/</id>
    <published>2016-05-06T07:07:03.000Z</published>
    <updated>2016-05-22T13:24:22.641Z</updated>
    
    <content type="html">&lt;p&gt;欢迎来到我的博客&lt;/p&gt;
&lt;p&gt;搭建博客参考网址：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/raytaylorlin/hexo-theme-raytaylorism&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;raytaylorism主题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://opiece.me/2015/04/09/hexo-guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;使用Hexo搭建个人博客(基于hexo3.0)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/lmj623565791/article/details/51319147#rd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何利用github打造博客专属域名&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/619dab2d3c08#&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo干货系列：（六）hexo提交搜索引擎（百度+谷歌）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.gravel.club/2016/04/22/parked_domains/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;将发布在github上的博客与域名进行绑定&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;欢迎来到我的博客&lt;/p&gt;
&lt;p&gt;搭建博客参考网址：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/raytaylorlin/hexo-theme-raytaylorism&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;r
    
    </summary>
    
      <category term="生活" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="其他" scheme="http://tengfei.science/categories/%E7%94%9F%E6%B4%BB/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="欢迎" scheme="http://tengfei.science/tags/%E6%AC%A2%E8%BF%8E/"/>
    
  </entry>
  
</feed>
